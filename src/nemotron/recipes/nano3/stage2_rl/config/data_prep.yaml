# Default config for RL data preparation
#
# Usage:
#   python data_prep.py --config config/data_prep.yaml
#   python data_prep.py --config config/data_prep.yaml sample=100 force=true
#
# Environment variables:
#   NEMO_RUN_DIR: Output directory root (default: current directory)
#   PWD: Current working directory (for blend_path resolution)

# Path to data blend JSON file
blend_path: ${oc.env:PWD}/src/nemotron/recipes/nano3/stage2_rl/config/data_blend_raw.json

# Output directory for JSONL data
output_dir: ${oc.env:NEMO_RUN_DIR,.}/output/nano3/stage2_rl

# Target size per shard (e.g., '256MB', '1GB')
shard_size: 256MB

# Limit rows per dataset for quick tests (null = no limit)
sample: null

# Ray actors for parallel processing (null = auto)
num_actors: null

# Force new run, ignoring cache
force: false

# Split output into train/val/test directories: 'none' or 'train_val_test'
split_output: train_val_test

# Ratio of data for training when split_output='train_val_test'
train_ratio: 0.98

# Ratio of data for validation when split_output='train_val_test'
val_ratio: 0.01
